{"code":"!function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.r=function(t){Object.defineProperty(t,\"__esModule\",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=7)}([function(t,e,n){var i=n(6),a=n(3),o=n(5),r=document.getElementById(\"history-list\"),c=[];function s(t){i.set(\"list\",t)}t.exports={reload_list:function(){c=i.get(\"list\")||[]},render_list:function t(){r.innerHTML=\"\",c.forEach(function(e){var n,i=document.createElement(\"div\");i.classList.add(\"history\"),i.dataset.history=e,i.innerHTML=`\\n      <div class=\"text\">${e}</div>\\n      <div class=\"tool\">\\n        <span class=\"delete\">删除</span>\\n      </div>\\n    `,n=i.querySelector(\".delete\"),r.appendChild(i),i.addEventListener(\"click\",function(t){t.target.classList.contains(\"delete\")||(a.set_keyword(this.dataset.history),a.search())}),n.addEventListener(\"click\",function(){var e=this.closest(\".history\").dataset.history;o.find_and_delete(c,e)||(s(c),setTimeout(function(){t()},100),c.length||(r.hidden=!0))})})},show_list:function(){c&&c.length&&(r.hidden=!1)},hide_list:function(){r.hidden=!0},append:function(t){o.find_and_delete(c,t),c.unshift(t),s(c)}}},function(t,e){var n,i,a=5;function o(){return n}t.exports={get_keyword:o,set_keyword:function(t){n=t},get_limit:function(){return a},set_limit:function(t){a=t},get_keyword:o,set_amount:function(t){t},get_current_page:function(){return i},set_current_page:function(t){i=t}}},function(t,e){var n={form:document.getElementById(\"search-form\"),input:document.getElementById(\"search-input\"),placeholder:document.getElementById(\"placeholder\"),top:document.getElementById(\"top\"),pagination:document.getElementById(\"pagination\"),pagination_start:document.getElementById(\"pagination-start\"),pagination_end:document.getElementById(\"pagination-end\"),pagination_container:document.getElementById(\"pagination_container\"),user_list:document.getElementById(\"user-list\")};t.exports=n},function(t,e,n){var i,a=n(2),o=n(1),r=(o.get_keyword(),o.get_limit());function c(){var t=new XMLHttpRequest;t.open(\"get\",\"https://api.github.com/search/users?q=\"+o.get_keyword()+\"&page=\"+o.get_current_page()+\"&per_page=\"+o.get_limit()),n(0).append(o.get_keyword()),t.send(),t.addEventListener(\"load\",function(){i=JSON.parse(t.responseText),o.set_amount(i.total_count),function(){var t=\"\";i.items.forEach(function(e){t+=`\\n      <div class=\"user\">\\n        <a class=\"avatar\" target=\"_blank\" href=\"${e.html_url}\">\\n          <img src=\"${e.avatar_url}\">\\n        </a>\\n        <div class=\"info\">\\n          <div class=\"username\">${e.login}</div>\\n          <div><a target=\"_blank\" href=\"${e.html_url}\">${e.html_url}</a></div>\\n        </div>\\n      </div>\\n    `}),a.user_list.innerHTML=t,document.getElementById(\"amount\").innerHTML=`共有${i.total_count}条结果`,o.get_current_page()*o.get_limit()>=o.get_amount()&&(a.placeholer.hidden=!1);a.placeholer.hidden=!0}(),function(){a.pagination_container.hidden=!1,d(),s();var t,e,n=Math.ceil(NaN),i=o.get_page_amount(),r=o.get_current_page();r>=i-n?(t=1,e=void 0):reaching_right?(t=i-void 0,e=i):(t=r-n+1,e=r+n-1);t<1&&(t=1);e>i&&(e=i);for(var u=t;u<=e;u++){var l=u,_=document.createElement(\"button\");_.innerText=l,_.classList.add(\"pager\"),r==l&&_.classList.add(\"active\"),a.pagination.appendChild(_),_.addEventListener(\"click\",p(l))}function p(t){return function(){r=o.set_current_page(t),c()}}}()})}function s(){page_amount=Math.ceil(o.get_amount()/o.get_limit())}function d(){a.pagination.innerHTML=\"\"}t.exports={search:c,set_keyword:function(t){a.input.value=t,t},reset_page:function(){o.set_current_page(1)},go_to_page:function(t){var e=t*r>MAX_LIMIT;current_page=e?o.set_current_page(Math.floor(MAX_LIMIT/r)):o.set_current_page(t),c()},reset_user_list:function(){a.user_list.innerHTML=\"\"},clear_pagination:d,hide_pagination:function(){a.pagination_container.hidden=!0}}},function(t,e,n){var i=n(2),a=n(3),o=n(0);n(1);t.exports={bind_all:function(){i.form.addEventListener(\"submit\",function(t){t.preventDefault();var e=a.set_keyword(i.input.value);console.log(e),e?(reset_page(),reset_user_list(),i.placeholer.hidden=!0,a.search(e),a.clear_pagination(),a.hide_pagination()):alert(\"please input some keyword...\")}),i.top.addEventListener(\"click\",function(){window.scrollTo(0,0)}),i.input.addEventListener(\"click\",function(){o.show_list()}),document.documentElement.addEventListener(\"click\",function(t){var e=t.target,n=e.closest(\"#search-input\"),i=e.closest(\"#history-list\");n||i||o.hide_list()}),i.pagination_start.addEventListener(\"click\",function(){a.go_to_page(1)}),i.pagination_end.addEventListener(\"click\",function(){a.go_to_page(page_amount)})}}},function(t,e){t.exports={find_and_delete:function(t,e){var n=t.indexOf(e);return-1!=n&&(t.splice(n,1),!0)}}},function(t,e){t.exports={set:function(t,e){var n=JSON.stringify(e);localStorage.setItem(t,n)},get:function(t){var e=localStorage.getItem(t);return JSON.parse(e)}}},function(t,e,n){var i=n(0),a=n(4);i.reload_list(),i.render_list(),a.bind_all()}]);","extractedComments":[]}