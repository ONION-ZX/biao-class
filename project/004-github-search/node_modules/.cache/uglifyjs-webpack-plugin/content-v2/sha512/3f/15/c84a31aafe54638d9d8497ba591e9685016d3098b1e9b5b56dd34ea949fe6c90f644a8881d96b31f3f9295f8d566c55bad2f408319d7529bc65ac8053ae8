{"code":"!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.r=function(e){Object.defineProperty(e,\"__esModule\",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=7)}([function(e,t,n){var i,r,o,a=n(5),c=n(4),d=5,s=999;function u(){a.pagination.innerHTML=\"\"}function l(){a.pagination_container.hidden=!1,u(),r=Math.ceil(c.get_amount()/c.get_limit());var e,t,n=Math.ceil(d/2),i=c.get_current_page();i<=n?(e=1,t=d):i>=r-n?(e=r-d,t=r):(e=i-n+1,t=i+n-1),e<1&&(e=1),t>r&&(t=r);for(var o=e;o<=t;o++){var s=o,l=document.createElement(\"button\");l.innerText=s,l.classList.add(\"pager\"),i==s&&l.classList.add(\"active\"),a.pagination.appendChild(l),l.addEventListener(\"click\",_(s))}}function _(e){return function(t){current_page=c.set_current_page(e),f()}}function f(){var e=new XMLHttpRequest;e.open(\"get\",\"https://api.github.com/search/users?q=\"+c.get_keyword()+\"&page=\"+c.get_current_page()+\"&per_page=\"+c.get_limit()),n(3).append(c.get_keyword()),e.send(),e.addEventListener(\"load\",function(){var e;o=JSON.parse(this.responseText),c.set_amount(o.total_count),e=\"\",o.items.forEach(function(t){e+=`\\n  <div class=\"user\">\\n    <a class=\"avatar\" target=\"_blank\" href=\"${t.html_url}\">\\n      <img src=\"${t.avatar_url}\">\\n    </a>\\n    <div class=\"info\">\\n      <div class=\"username\">${t.login}</div>\\n      <div><a target=\"_blank\" href=\"${t.html_url}\">${t.html_url}</a></div>\\n    </div>\\n  </div>\\n    `}),a.user_list.innerHTML=e,document.getElementById(\"amount\").innerHTML=`共有${o.total_count}条结果`,i=c.get_current_page()*c.get_limit()>=c.get_amount(),a.placeholder.hidden=!i,l()})}e.exports={goto_page:function(e){var t=c.get_current_page()*c.get_limit()>s;current_page=t?c.set_current_page(Math.floor(s/limit)):c.set_current_page(e),f()},search:f,reset_page:function(){c.set_current_page(1)},reset_user_list:function(){a.user_list.innerHTML=\"\"},clear_pagination:u,hide_pagination:function(){a.pagination_container.hidden=!0},set_keyword:function(e){a.input.value=e,c.set_keyword(e)}}},function(e,t){e.exports={set:function(e,t){var n=JSON.stringify(t);localStorage.setItem(e,n)},get:function(e){var t=localStorage.getItem(e);return JSON.parse(t)}}},function(e,t){e.exports={find_and_delete:function(e,t){var n=e.indexOf(t);return-1!=n&&(e.splice(n,1),!0)}}},function(e,t,n){var i,r=n(1),o=document.getElementById(\"history-list\"),a=n(2),c=n(0);function d(e){r.set(\"list\",e)}function s(){o.innerHTML=\"\",i.forEach(function(e){var t,n=document.createElement(\"div\");n.classList.add(\"history\"),n.dataset.history=e,n.innerHTML=`\\n        <div class=\"text\">${e}</div>\\n        <div class=\"tool\">\\n          <span class=\"delete\">删除</span>\\n        </div>`,t=n.querySelector(\".delete\"),o.appendChild(n),n.addEventListener(\"click\",function(e){e.target.classList.contains(\"delete\")||(c.set_keyword(this.dataset.history),c.search())}),t.addEventListener(\"click\",u)})}function u(){var e=this.closest(\".history\").dataset.history;a.find_and_delete(i,e)&&(d(i),setTimeout(function(){s()},100),i.length||(o.hidden=!0))}e.exports={reload_list:function(){i=r.get(\"list\")||[]},render_list:s,show_list:function(){i.length&&(o.hidden=!1)},hide_list:function(){o.hidden=!0},append:function(e){console.log(e),a.find_and_delete(i,e),i.unshift(e),d(i)}}},function(e,t){var n,i,r,o=5;e.exports={get_keyword:function(){return n},set_keyword:function(e){return n=e},get_limit:function(){return o},set_limit:function(e){return o=e},get_current_page:function(){return i},set_current_page:function(e){return i=e},get_amount:function(){return r},set_amount:function(e){return r=e}}},function(e,t){var n={form:document.getElementById(\"search-form\"),input:document.getElementById(\"search-input\"),placeholder:document.getElementById(\"placeholder\"),top:document.getElementById(\"top\"),pagination:document.getElementById(\"pagination\"),pagination_start:document.getElementById(\"pagination-start\"),pagination_end:document.getElementById(\"pagination-end\"),pagination_container:document.getElementById(\"pagination-container\"),user_list:document.getElementById(\"user-list\")};e.exports=n},function(e,t,n){var i,r,o,a=n(2),c=n(1),d=n(0),s=[],u={init:function(e){i=e.el,r=e.on_click,o=e.on_delete,_()},add:function(e){a.find_and_delete(s,e),c.set(\"history_list\",s),_()},remove:l,clear:function(){s=[]}};function l(){a.find_and_delete(s,keyword),c.get(\"history_list\"),_()}function _(){i.innerHTML=\"\",s.forEach(function(){var e=document.creatElement(\"div\");e.innerHTML=`\\n      <div class=\"text\">${keyword}</div>\\n      <div class=\"tool\">\\n        <span class=\"delete\">删除</span>\\n      </div>\\n    `,e.classList.add(\"history\"),i.appendChild(e),e.addEventListener(\"click\",function(e){r&&r(keyword,e),d.set_keyword(keyword)}),e.querySelector(\".delete\").addEventListener(\"click\",function(e){o&&o(keyword,e),l(keyword)})})}e.exports=u},function(e,t,n){var i=n(6);i.init({el:\"#history-list\",on_click:function(e,t){console.log(e,t.altKey)},on_delete:function(e,t){t.stopPropagation(),console.log(e)}}),i.add(\"yo1\"),i.add(\"yo\"),i.add(\"yo3\")}]);","extractedComments":[]}