{"code":"!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.r=function(t){Object.defineProperty(t,\"__esModule\",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=7)}([function(t,e,n){var i=n(6),r=n(3),a=n(5),o=document.getElementById(\"history-list\"),c=[];function s(t){i.set(\"list\",t)}t.exports={reload_list:function(){c=i.get(\"list\")||[]},render_list:function t(){o.innerHTML=\"\",c.forEach(function(e){var n,i=document.createElement(\"div\");i.classList.add(\"history\"),i.dataset.history=e,i.innerHTML=`\\n      <div class=\"text\">${e}</div>\\n      <div class=\"tool\">\\n        <span class=\"delete\">删除</span>\\n      </div>\\n    `,n=i.querySelector(\".delete\"),o.appendChild(i),i.addEventListener(\"click\",function(t){t.target.classList.contains(\"delete\")||(r.set_keyword(this.dataset.history),r.search())}),n.addEventListener(\"click\",function(){var e=this.closest(\".history\").dataset.history;a.find_and_delete(c,e)||(s(c),setTimeout(function(){t()},100),c.length||(o.hidden=!0))})})},show_list:function(){c&&c.length&&(o.hidden=!1)},hide_list:function(){o.hidden=!0},append:function(t){a.find_and_delete(c,t),c.unshift(t),s(c)}}},function(t,e){var n,i,r=5;function a(){return n}t.exports={get_keyword:a,set_keyword:function(t){return n=t},get_limit:function(){return r},set_limit:function(t){return r=t},get_keyword:a,set_amount:function(t){return t},get_current_page:function(){return i},set_current_page:function(t){return i=t}}},function(t,e){var n={form:document.getElementById(\"search-form\"),input:document.getElementById(\"search-input\"),placeholder:document.getElementById(\"placeholder\"),top:document.getElementById(\"top\"),pagination:document.getElementById(\"pagination\"),pagination_start:document.getElementById(\"pagination-start\"),pagination_end:document.getElementById(\"pagination-end\"),pagination_container:document.getElementById(\"pagination_container\"),user_list:document.getElementById(\"user-list\")};t.exports=n},function(t,e,n){var i,r=n(2),a=n(1),o=(a.get_keyword(),a.get_limit());function c(){var t=new XMLHttpRequest;t.open(\"get\",\"https://api.github.com/search/users?q=\"+a.get_keyword()+\"&page=\"+a.get_current_page()+\"&per_page=\"+a.get_limit()),n(0).append(a.get_keyword()),t.send(),t.addEventListener(\"load\",function(){i=JSON.parse(t.responseText),a.set_amount(i.total_count),function(){var t=\"\";i.items.forEach(function(e){t+=`\\n      <div class=\"user\">\\n        <a class=\"avatar\" target=\"_blank\" href=\"${e.html_url}\">\\n          <img src=\"${e.avatar_url}\">\\n        </a>\\n        <div class=\"info\">\\n          <div class=\"username\">${e.login}</div>\\n          <div><a target=\"_blank\" href=\"${e.html_url}\">${e.html_url}</a></div>\\n        </div>\\n      </div>\\n    `}),r.user_list.innerHTML=t,document.getElementById(\"amount\").innerHTML=`共有${i.total_count}条结果`,a.get_current_page()*a.get_limit()>=a.get_amount()&&(r.placeholer.hidden=!1);r.placeholer.hidden=!0}(),function(){r.pagination_container.hidden=!1,u(),s();var t,e,n=Math.ceil(NaN),i=a.get_page_amount(),o=a.get_current_page();o>=i-n?(t=1,e=void 0):reaching_right?(t=i-void 0,e=i):(t=o-n+1,e=o+n-1);t<1&&(t=1);e>i&&(e=i);for(var d=t;d<=e;d++){var l=d,_=document.createElement(\"button\");_.innerText=l,_.classList.add(\"pager\"),o==l&&_.classList.add(\"active\"),r.pagination.appendChild(_),_.addEventListener(\"click\",p(l))}function p(t){return function(){o=a.set_current_page(t),c()}}}()})}function s(){page_amount=Math.ceil(a.get_amount()/a.get_limit())}function u(){r.pagination.innerHTML=\"\"}t.exports={search:c,set_keyword:function(t){r.input.value=t,t},reset_page:function(){a.set_current_page(1)},go_to_page:function(t){var e=t*o>MAX_LIMIT;current_page=e?a.set_current_page(Math.floor(MAX_LIMIT/o)):a.set_current_page(t),c()},reset_user_list:function(){r.user_list.innerHTML=\"\"},clear_pagination:u,hide_pagination:function(){r.pagination_container.hidden=!0}}},function(t,e,n){var i=n(2),r=n(3),a=n(0),o=n(1);t.exports={bind_all:function(){i.form.addEventListener(\"submit\",function(t){t.preventDefault();var e=o.set_keyword(i.input.value);e?(r.reset_page(),r.reset_user_list(),i.placeholer.hidden=!0,r.search(e),r.clear_pagination(),r.hide_pagination()):alert(\"please input some keyword...\")}),i.top.addEventListener(\"click\",function(){window.scrollTo(0,0)}),i.input.addEventListener(\"click\",function(){a.show_list()}),document.documentElement.addEventListener(\"click\",function(t){var e=t.target,n=e.closest(\"#search-input\"),i=e.closest(\"#history-list\");n||i||a.hide_list()}),i.pagination_start.addEventListener(\"click\",function(){r.go_to_page(1)}),i.pagination_end.addEventListener(\"click\",function(){r.go_to_page(page_amount)})}}},function(t,e){t.exports={find_and_delete:function(t,e){var n=t.indexOf(e);return-1!=n&&(t.splice(n,1),!0)}}},function(t,e){t.exports={set:function(t,e){var n=JSON.stringify(e);localStorage.setItem(t,n)},get:function(t){var e=localStorage.getItem(t);return JSON.parse(e)}}},function(t,e,n){var i=n(0),r=n(4);i.reload_list(),i.render_list(),r.bind_all()}]);","extractedComments":[]}